export interface GuideSection {
  id: string;
  title: string;
  content: string;
}

export const GUIDE_CONTENT: GuideSection[] = [
  {
    id: 'quick-start',
    title: '快速开始',
    content: `
# 快速开始指南

欢迎来到东方异界食堂！请跟随以下步骤开始您的幻想乡之旅。

### 第一步：创建专属存档
为了获得最佳的游戏体验，建议您不要直接使用默认存档。
1. 点击顶部的 **[💾 存档管理](action:openSaveManager)** 按钮。
2. 在弹出的窗口中点击 **“新建存档”**。
3. 按照引导填写您的角色昵称、设定初始属性等。
4. 创建完成后，系统会自动切换到您的新存档。

### 第二步：配置大语言模型 (LLM)
本游戏采用 **“四重模型协作架构”**，不同的任务由四个独立的 AI 模型分工完成。**您必须为这四个模型都配置好可用的模型名称（及 API Key），游戏才能正常运行。**

1. 点击顶部的 **[⚙️ 设置](action:openSettings)** 按钮。
2. 在 **“LLM配置”** 选项卡中，您会看到以下四个需要配置的模型：

- **🎭 对话模型 (LLM #1)**: 
    - **职责**：负责扮演 NPC 与您对话，描写剧情细节。
    - **建议**：使用具有强大角色扮演能力和长上下文的模型（如 Gemini 1.5 Pro, Claude 3.5 Sonnet）。
- **⚖️ 逻辑模型 (LLM #2)**: 
    - **职责**：分析对话内容，自动更新您的金钱、好感度、物品等变量，并生成快捷回复。
    - **建议**：使用遵循指令能力强、速度快的模型（如 Gemini 1.5 Flash, GPT-4o-mini）。
- **🧠 记忆模型 (LLM #3)**: 
    - **职责**：将对话总结为长期记忆，确保 AI 不会“聊了就忘”。
    - **建议**：同逻辑模型，侧重于总结能力。
- **🛠️ 杂项模型 (LLM #4)**: 
    - **职责**：处理战斗中的“嘴遁”逻辑判定、随机地图生成等特殊任务。
    - **建议**：基础模型即可。

3. **配置方式**：
    - 您可以在“全局配置”中填入统一的 API Key 和 Base URL。
    - 然后在各个模型子选项卡中，点击“继承全局”或单独配置。
    - **重要**：请确保每个模型子选项卡里的 **“模型名称”** 都不是空的。
4. 点击 **“保存配置”**。

### 第三步：开始对话
一切准备就绪！
1. 在底部的输入框中输入您想说的话，或者点击上方的 **“快捷回复”** 气泡。
2. 点击发送按钮（或按 Enter 键）。
3. 等待 AI 回复，享受剧情吧！

> **小贴士**：如果 AI 的回复不符合您的预期，您可以点击输入框旁边的 **[🔄 刷新](action:highlightRefresh)** 按钮重新生成。
`
  },
  {
    id: 'interface',
    title: '界面与交互',
    content: `
# 界面与交互指南

### 顶部栏
- **[⚙️ 设置](action:openSettings)**：调整音量、LLM 配置、绘图设置等。
- **[💾 存档](action:openSaveManager)**：管理您的游戏进度。
- **[❓ 帮助](action:stay)**：就是您现在看到的这个界面！

### 侧边栏 (PC端)
- **状态卡片**：显示您的 HP、MP、金钱、位置等信息。
- **[📜 任务列表](action:highlightQuests)**：
    - 显示当前正在进行的任务。
    - 点击任务条目可以查看任务目标、奖励以及当前进度。
    - **提示**：任务通常由 NPC 发布，完成任务是获取金钱和提升好感度的重要途径。
- **[👥 角色列表](action:highlightCharacters)**：
    - 显示当前场景中出现的角色。
    - **点击角色头像**：查看该角色的详细属性（包括好感度、服从度、当前行为与心理活动）。
    - 这是一个非常强大的功能，能帮您“读心”，了解 NPC 此刻的真实想法。

### 核心编辑器 (高级功能)
- **[📖 条目编辑器](action:openCharEditor)**：
    - **功能**：在这里您可以手动编辑游戏中的“世界设定”（Lorebook）。
    - **用途（未实装）**：如果您觉得 AI 对某个角色的认知有误，或者想要增加新的地理、物品设定，可以在此添加条目。这些信息会作为 AI 的“常识”在对话中生效。
- **[🧩 提示词中心](action:openPromptBuilder)**：
    - **功能**：查看系统是如何将您的输入、环境信息、记忆等“拼接”成一段发给 AI 的指令的。
    - **用途**：这是为进阶玩家准备的“黑盒查看器”。如果您好奇 AI 为什么会给出某种回复，可以在这里看到它接收到的原始背景信息。

### 底部输入区
- **输入框**：输入您的行动或对话。
- **发送按钮**：提交您的行动。
- **[🔄 刷新按钮](action:highlightRefresh)**：
    - **功能**：重新开始本轮对话。
    - **场景**：如果您对 AI 的回复不满意，或者因为网络原因生成失败，点击此按钮可以回滚状态并重新生成。
    - **注意**：这会删除当前的最后一条回复（如果是 AI 回复），请谨慎使用。

### 快捷回复
在输入框上方会出现一些白色的气泡，这是系统根据当前情境推荐的回复。点击即可直接发送，非常方便！
`
  },
  {
    id: 'combat',
    title: '战斗系统',
    content: `
# 战斗系统详解

当剧情中发生不可调解的冲突时，将进入 **“符卡规则 (Spell Card System)”** 下的战斗模式。

### 战斗界面布局
战斗开启后，界面右侧会出现一个扇形的 **战斗指令轮盘**。
- **ATTACK (攻击)**：基础的弹幕射击，造成物理或魔法伤害。
- **SPELL (符卡)**：打开符卡列表，释放角色的专属大招。
- **ITEM (物品)**：使用背包中的药水、食物或其他战斗道具。
- **TALK (嘴遁)**：核心系统！通过言语动摇对方。
- **ESCAPE (逃跑)**：尝试撤离战斗（某些强制剧情下不可用）。

### 核心机制
1. **P 点系统 (P-Point)**：
    - 屏幕底部会显示您的 **P 点槽 (0-100)**。
    - 通过攻击或受到伤害可以积攒 P 点。
    - 当 P 点达到 **80 以上** 时，角色将进入 **“爆发状态 (Burst)”**，所有符卡威力大幅提升，且伴有华丽的视觉特效。

2. **LLM 嘴遁 (Persuasion)**：
    - 这不是单纯的数值比拼。点击 **TALK** 后，您可以直接输入一段文字来尝试劝说敌人。
    - **逻辑判定**：由 LLM #4 实时分析您的文字。如果您能切中对方的性格弱点、引用之前的剧情线索、或提出合理的利益交换，可能会直接造成“精神暴击”，大幅降低敌人的属性。

3. **友军支援 (Ally Support)**：
    - 如果您的队伍中有其他角色（如灵梦、魔理沙等），她们会作为友军自动参与战斗。
    - 友军拥有独立的 AI 逻辑，会根据战况自动选择攻击、防御或为您提供治疗支援。

4. **护盾与闪避**：
    - 除了 HP，某些符卡会提供 **护盾 (Shield)**。护盾会优先抵扣伤害。
    - **闪避率 (Dodge)** 受熟练度和 Buff 影响，高闪避可以让您在弹幕雨中毫发无伤。

### 战斗建议
- **先观察后行动**：点击敌方头像可以查看其当前的状态、抗性以及可能的心理活动。
- **文武齐下**：在攻击的同时配合 **TALK**，往往能起到事半功倍的效果。
- **注意 MP 消耗**：强大的符卡需要消耗大量灵力，请务必预留补给。
`
  },
  {
    id: 'spellcard',
    title: '符卡熟练度',
    content: `
# 符卡熟练度系统

符卡是幻想乡中力量的象征。除了收集新符卡，提升您的 **“战斗熟练等级 (Combat Level)”** 同样重要。

### 什么是熟练度？
您可以将其理解为主角的“战斗等级”。它代表了您对弹幕与符卡运用的精通程度。
- **获取经验**：
    - **赢得战斗**：根据战斗烈度，获得 **+200 至 +800** 经验。
    - **战斗失败/逃跑**：依然能获得少量经验 (**+50 至 +100**)，毕竟失败也是经验的一部分。
    - **特殊事件**：某些剧情互动或食用特殊食物也可能直接增加经验。
- **等级上限**：目前最高等级为 **Lv.100**，每级需要 **1000** 点经验。

### 等级提升的好处
1. **威力加成**：等级越高，您释放的所有攻击性符卡造成的伤害就越高。
2. **消耗降低**：高等级会让您对灵力的控制更精细，从而降低释放符卡时的 **MP 消耗**。
3. **生存能力**：提升熟练度会增加您的基础 **闪避率 (Dodge Rate)**，让您在密集的弹幕中更游刃有余。
4. **战斗力评级**：您的等级将直接影响您的 **战斗力 (Power Level)** 评级（从 F 到 OMEGA）。

### 如何查看？
在左侧的状态卡片中，您可以实时看到当前的熟练等级与经验进度条。

> **提示**：遇到强敌打不过？先去人间之里找小妖怪切磋一下，提升几级熟练度再回来试试吧！
`
  },
  {
    id: 'memory',
    title: '记忆库',
    content: `
# 记忆库系统

记忆库是 AI 的“大脑”，记录了您与它发生过的所有重要事情。

### 如何打开？
点击侧边栏（或移动端菜单）中的 **[🧠 记忆面板](action:openMemoryPanel)** 按钮。

### 记忆类型
为了让 AI 的记忆更有条理，系统会将信息分类存储：

1. **📜 剧情摘要 (Summary)**
    - **内容**：对每一轮对话的自然语言总结。
    - **作用**：记录“谁做了什么”、“发生了什么大事”。这是 AI 回忆剧情最主要的方式。

2. **🏗️ 设施档案 (Facility)**
    - **内容**：记录您拥有或管理的设施（如您的酒馆、房屋、工坊）的变动。
    - **作用**：当您处于相关区域时，AI 会优先想起该设施的状态（比如酒馆是否翻新过）。

3. **🤝 重要联盟 (Alliance)**
    - **内容**：记录您与其他角色达成的长期合作、契约或深度羁绊。
    - **作用**：让 AI 始终记住谁是您的“铁杆盟友”。

4. **🕵️ 绝密情报 (Intelligence)**
    - **内容**：记录您在幻想乡中探索到的世界真相、角色秘密或隐藏线索。
    - **作用**：这些信息非常关键，AI 在涉及相关话题时会表现得更加“知情”。

5. **🔢 状态快照 (Variable)**
    - **内容**：数值层面的变动记录（如金钱的大幅增减、获得稀有物品）。
    - **作用**：作为“硬事实”补充，防止 AI 在数值逻辑上出现混乱。

### 记忆注入模式
为了让 AI 更好地回忆起过去，我们提供了两种检索模式：

- **粗筛模式 (Basic)**：
    - **速度**：快。
    - **原理**：基于关键词匹配。
    - **适用**：一般的日常对话回顾。

- **精筛模式 (Advanced)**：
    - **速度**：一般（额外消耗一些 Token）。
    - **原理**：AI 会深度阅读相关记忆并进行语义理解（例如它能理解“那个红色的巫女”指的就是“灵梦”）。
    - **适用**：当您觉得 AI “忘了”某件很重要的事情时，开启此模式可以强行唤醒它的深层记忆。

> **注意**：您可以在 **[⚙️ 设置](action:openSettings)** -> **LLM配置** -> **记忆相关** 中调整这些选项。
`
  },
  {
    id: 'bonds',
    title: '人物羁绊',
    content: `
# 人物羁绊系统

在幻想乡，与角色建立深层联系是游戏的核心。每个 NPC 都有三个核心社交数值：

### 核心数值
1. **❤️ 好感度 (Favorability)**
    - **定义**：角色对您的喜爱与信任程度。
    - **作用**：高好感度可以解锁更多亲密对话、触发专属任务，甚至在战斗中获得对方的自动支援。
    - **提升**：通过赠送礼物、顺从对方性格的交谈、完成对方委托的任务来提升。

2. **🔗 服从度 (Obedience)**
    - **定义**：角色对您的顺从、敬畏或依赖程度。
    - **作用**：高服从度能让角色更容易听从您的命令，在某些特殊决策中倾向于您的选择。
    - **提升**：通过展示强大的力量（战斗获胜）、展现威严、或者在某些博弈中占据主导地位来提升。

3. **🌟 声望 (Reputation)**
    - **定义**：您在整个幻想乡或特定区域的名声。
    - **作用**：高声望会让初次见面的 NPC 对您更客气，更容易接到高难度的传奇任务。
    - **提升**：通过完成公开任务、在大型事件中露面、或者做一些广为人知的好事（或坏事）来改变。

### 提升小技巧
- **投其所好**：每个角色的性格不同，同样的举动在不同人眼中增加的数值也不同。比如，对灵梦来说，捐赠香火钱可能比长篇大论更管用。
- **对话内容**：AI 会理解您说话的语气和意图。真诚的问候与虚伪的应付会产生完全不同的社交后果。
- **长期积累**：羁绊不是一天建成的，通过持续的互动，您甚至可以改变一个角色对您的基本看法。

> **提示**：点击侧边栏 **[👥 角色列表](action:highlightCharacters)** 中的头像，可以随时查看该角色对您的具体数值。
`
  },
  {
    id: 'items',
    title: '物品与背包',
    content: `
# 物品与背包系统

在异界生存，收集资源与管理背包是必不可少的。

### 物品分类
游戏中的物品分为三大类：

1. **🌿 素材与消耗品 (Material)**
    - **内容**：包括食材、草药、药水、制造材料等。
    - **用途**：药水可以在战斗中使用（通过 **ITEM** 指令）恢复 HP/MP；食材可用于烹饪或完成任务。
2. **⚔️ 装备 (Equipment)**
    - **内容**：武器、防具、饰品等。
    - **用途**：穿戴装备可以永久提升您的基础属性（攻击、防御、闪避等）。
3. **✨ 特殊物品 (Special)**
    - **内容**：任务道具、剧情关键物品、稀有收藏品。
    - **用途**：通常用于推进特定剧情或作为与 NPC 互动的特殊礼物。

### 如何获取物品？
- **剧情交互**：通过对话，NPC 可能会赠送您物品。
- **战斗奖励**：赢得战斗后有概率获得战利品。
- **任务奖励**：完成 NPC 布置的任务是获取高级装备的主要途径。
- **采集与购买**：在特定地点进行探索，或前往商店购买。

### 背包管理
- 点击右下角的 **[🎒 背包]** 按钮可以查看当前拥有的所有物品。
- **物品详情**：点击物品图标可以查看其具体数值加成和背景故事。
- **使用物品**：非战斗状态下，某些消耗品可以直接点击使用；战斗中需通过战斗轮盘的 **ITEM** 菜单使用。

> **提示**：背包空间是有限的（虽然目前暂未实装硬性上限），记得定期整理您的战利品！
`
  }
];
